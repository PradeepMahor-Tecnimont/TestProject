@model MGMTApp.WebApp.Models.PersonViewModel
@{
    ViewData["Title"] = "Person";
}

@Html.AntiForgeryToken()

@section BreadCrumbs
{

    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item active">Person</li>
    </ol>
}

@section Styles {

}

@*<h1>Person</h1>*@

<section class="section">
    <div class="row">

        <div class="col-lg-12">

            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">
                        Person
                    </h5>

                    <!-- Floating Labels Form -->
                    <form class="row g-3 needs-validation was-validated">
                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="text" class="form-control" id="floatingName" placeholder="Your Name" required>
                                <label for="floatingName">Your Name</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="email" class="form-control" id="floatingEmail" placeholder="Your Email" required>
                                <label for="floatingEmail">Your Email</label>
                            </div>
                        </div>

                        <div class="col-12">
                            <div class="form-floating">
                                <textarea class="form-control" placeholder="Address" rows="2"
                                          id="floatingTextarea" style="height: 100px;" required></textarea>
                                <label for="floatingTextarea">Address</label>
                            </div>
                        </div>

                        <div class="text-center">
                            <button type="submit" class="btn btn-primary">Submit</button>
                            <button type="reset" class="btn btn-secondary">Reset</button>
                        </div>
                    </form><!-- End floating Labels Form -->
                </div>
            </div>
        </div>
    </div>
</section>

<div class="row">
    <div class="col-lg-12">

        <div class="card">
            <div class="card-body">
                <table id="tbGrid" class="table table-striped table-bordered table-responsive-lg ">
                    <thead class="bg-info text-white">
                        <tr>
                            <th>@Html.DisplayNameFor(model => model.FullName)</th>
                            <th>@Html.DisplayNameFor(model => model.Email)</th>
                            <th>@Html.DisplayNameFor(model => model.Address)</th>
                            @*<th>&nbsp;</th>
                                <th>&nbsp;</th>*@
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
</div>

@section Scripts{

    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}

    <script>
        $(document).ready(function () {
            loadDataTable();

            function localScript() {
                loadDataTable();
          /*  initSelect2();*/
        }

        function loadDataTable() {
            showLoader();
            let datatableColumns = [
                { 'data': "fullName" },
                { 'data': "email" },
                { 'data': "address" }
            ];

            let vPersonDataTableList = "@Url.Action("GetListsPerson", "Person")";
                    genericLoadDataTable({
                    pDataTableId: "#tbGrid",
                    pColumns: datatableColumns,
                    pUrl: vPersonDataTableList,
                    pUrlParams: {
                        genericSearch: $('#GenericSearch').val() ? $('#GenericSearch').val() : null,
                        },
                    pRequestVerificationToken: $('input[name="__RequestVerificationToken"]').val()
                    });
            hideLoader();
        };
            //$("#GenericSearch").keypress(function (event) {
            //    if (event.keyCode === 13) {
            //        if ($("#GenericSearch").length) {
            //            loadDataTable();
            //        }
            //    }
            //});

            //$('#buttonSearch').on('click', function () {
            //    if ($("#GenericSearch").length) {
            //        loadDataTable();
            //    }
            //});

        });
    </script>
}